!function(_){_.fn.twentytwenty=function(g){g=_.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},g);return this.each(function(){var s=g.default_offset_pct,a=_(this),i=g.orientation,t="vertical"===i?"down":"left",e="vertical"===i?"up":"right";a.wrap("<div class='twentytwenty-wrapper twentytwenty-"+i+"'></div>"),g.no_overlay||(a.append("<div class='twentytwenty-overlay'></div>"),(n=a.find(".twentytwenty-overlay")).append("<div class='twentytwenty-before-label' data-content='"+g.before_label+"'></div>"),n.append("<div class='twentytwenty-after-label' data-content='"+g.after_label+"'></div>"));var o=a.find("img:first"),r=a.find(".info-text:first"),c=a.find("img:last"),d=a.find(".info-text:last");a.append("<a class='twentytwenty-handle' tabindex='0' role='slider'></a>");var l=a.find(".twentytwenty-handle");l.append("<span class='twentytwenty-"+t+"-arrow'></span>"),l.append("<span class='twentytwenty-"+e+"-arrow'></span>"),a.addClass("twentytwenty-container"),o.addClass("twentytwenty-before"),c.addClass("twentytwenty-after");function w(t){var e,n,t=(e=t,n=o.width(),t=o.height(),{w:n+"px",h:t+"px",cw:e*n+"px",ch:e*t+"px",cslw:e*n+"px",cslh:e*t+"px"});l.css("vertical"===i?"top":"left","vertical"===i?t.ch:t.cw),0<r.length&&0<d.length&&(r.css("vertical"===i?"hieght":"width","vertical"===i?t.ch:t.cw),"vertical"===i?(r.css("height",parseInt(t.ch,10)),d.css("height",parseInt(t.h,10)-parseInt(t.ch,10)),r.css("height")<="70px"?r.removeClass("opaHide"):r.addClass("opaHide"),d.css("height")<="70px"?d.removeClass("opaHide"):d.addClass("opaHide"),"0px"==l.css("top")?_(".twentytwenty-after").parent(".img-wrapper").css("z-index","10"):_(".twentytwenty-after").parent(".img-wrapper").css("z-index","0")):((d.is(".p-left")||d.is(".p-center"))&&d.css("width",parseInt(t.w,10)-parseInt(t.cw,10)),d.is(".p-right")&&d.css("width",parseInt(t.w,10)-parseInt(t.cw,10)))),t=t,"vertical"===i?(o.css("clip","rect(0,"+t.w+","+t.ch+",0)"),c.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(o.css("clip","rect(0,"+t.cw+","+t.h+",0)"),c.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),a.css("height",t.h)}function p(t,e){var n;return n="vertical"===i?(e-f)/y:(t-h)/v,e=0,t=1,Math.max(e,Math.min(t,n))}_(window).on("resize.twentytwenty",function(t){w(s)});var h=0,f=0,v=0,y=0,n=function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==i||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===i)&&t.preventDefault(),a.addClass("active"),h=a.offset().left,f=a.offset().top,v=o.width(),y=o.height()},t=function(t){a.hasClass("active")&&(s=p(t.pageX,t.pageY),w(s))},e=function(){a.removeClass("active")},u=g.move_with_handle_only?l:a;u.on("movestart",n),u.on("move",t),u.on("moveend",e),u.on({keydown:function(t){var e,n;39!=t.keyCode&&37!=t.keyCode||(t.preventDefault(),f=h=0,v=o.width(),y=o.height(),e=parseInt(u.css("left")),n=39==t.keyCode?7:-7,s=p(e+n,0),w(s)),40!=t.keyCode&&38!=t.keyCode||(t.preventDefault(),f=h=0,v=o.width(),y=o.height(),e=parseInt(u.css("top")),n=40==t.keyCode?7:-7,s=p(0,e+n),console.log(s),w(s))}}),g.move_slider_on_hover&&(a.on("mouseenter",n),a.on("mousemove",t),a.on("mouseleave",e)),l.on("touchmove",function(t){t.preventDefault()}),a.find("img").on("mousedown",function(t){t.preventDefault()}),g.click_to_move&&a.on("click",function(t){h=a.offset().left,f=a.offset().top,v=o.width(),y=o.height(),s=p(t.pageX,t.pageY),w(s)}),_(window).trigger("resize.twentytwenty")})}}(jQuery);
//# sourceMappingURL=maps/jquery.twentytwenty.min.js.map
